@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix dbo: <http://dbpedia.org/ontology/> .
@prefix dbc: <http://dbpedia.org/resource/Category:> . 
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix dcterms: <http://dublincore.org/documents/2012/06/14/dcmi-terms/> .
@prefix schema: <https://schema.org/place> .
@prefix jt: <http://schema.example.org/> .
@prefix xsd: <https://www.w3.org/2011/rdf-wg/wiki/XSD_Datatypes> .


[user_init_favmov: (?u rdf:type foaf:Person) noValue(?u jt:favoriteMovie) (?r rdf:type jt:UserFilmRating) (?u jt:ratedMovie ?r) (?r jt:hasRated ?m) -> (?u jt:favoriteMovie ?m) (?u jt:checkedForFavorite ?m)]

[user_update_favmov_n:(?u rdf:type foaf:Person) (?u jt:favoriteMovie ?prev_m) (?u jt:ratedMovie ?r) (?r jt:hasRated ?m) noValue(?u jt:checkedForFavorite ?m)
(?u jt:ratedMovie ?prev_r) (?prev_r jt:hasRated ?prev_m) (?prev_r jt:withRating ?prev_s) 
(?r jt:withRating ?s) le(?prev_s, ?s) (?prev_r jt:atTime ?prev_t) (?r jt:atTime ?t) lessThan(?prev_t, ?t) 
-> remove(1) (?u jt:favoriteMovie ?m) (?u jt:checkedForFavorite ?m)]



[test: (?u rdf:type foaf:Person) (?g rdf:type dbo:Genre) noValue(?u jt:interestedInGenre ?g) ->makeInstance(?u jt:interstIn ?i) (?i jt:genreOfInterest ?g) (?i jt:weightOfInterst 0) ]

[test1: (?r rdf:type jt:UserFilmRating) (?r jt:hasRated ?m) 
		(?m jt:ofGenre ?g) (?r jt:wasGivenBy ?u) (?u jt:interestedInGenre ?i)
		(?i jt:interestedInGenre ?ig) equal(?g, ?ig) (?i jt:weightOfInterst ?w) ->
		remove(7) sum(?w,1,?s)(?i jt:weightOfInterst ?s)]
		
[test2: (?u rdf:type foaf:Person) (?u jt:interestedInGenre ?g) (?g jt:weightOfInterst ?w) 
	greaterThan(?w, 10) -> (?u jt:likes ?g)]