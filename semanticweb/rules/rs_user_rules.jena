@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix dbo: <http://dbpedia.org/ontology/> .
@prefix dbc: <http://dbpedia.org/resource/Category:> . 
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix dcterms: <http://dublincore.org/documents/2012/06/14/dcmi-terms/> .
@prefix schema: <https://schema.org/place> .
@prefix jt: <http://schema.example.org/> .
@prefix xsd: <https://www.w3.org/2011/rdf-wg/wiki/XSD_Datatypes> .


[user_init_favmov: (?u rdf:type foaf:Person) noValue(?u jt:favoriteMovie) (?r rdf:type jt:UserFilmRating) (?u jt:ratedMovie ?r) (?r jt:hasRated ?m) -> (?u jt:favoriteMovie ?m) (?u jt:checkedForFavorite ?m)]

[user_update_favmov_n:(?u rdf:type foaf:Person) (?u jt:favoriteMovie ?prev_m) (?u jt:ratedMovie ?r) (?r jt:hasRated ?m) noValue(?u jt:checkedForFavorite ?m)
(?u jt:ratedMovie ?prev_r) (?prev_r jt:hasRated ?prev_m) (?prev_r jt:withRating ?prev_s) 
(?r jt:withRating ?s) le(?prev_s, ?s) (?prev_r jt:atTime ?prev_t) (?r jt:atTime ?t) lessThan(?prev_t, ?t) 
-> remove(1) (?u jt:favoriteMovie ?m) (?u jt:checkedForFavorite ?m)]